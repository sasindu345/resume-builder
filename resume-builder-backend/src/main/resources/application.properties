# ================================================================================================
# RESUME BUILDER - APPLICATION CONFIGURATION
# ================================================================================================
# This file contains all the configuration for our Spring Boot application
# Spring Boot reads these properties and auto-configures components accordingly
# ================================================================================================

# ================================================================================================
# APPLICATION SETTINGS
# ================================================================================================
# The name of our application - used in logs, actuator endpoints, etc.
spring.application.name=resume-builder

# The port where our server will run
# Default is 8080, you can change if that port is in use
server.port=8080

# ================================================================================================
# MONGODB DATABASE CONFIGURATION
# ================================================================================================
# MongoDB connection URI
# Format: mongodb://[username:password@]host[:port]/database
# localhost:27017 is the default MongoDB installation
spring.data.mongodb.uri=mongodb://localhost:27017/resumebuilder

# Database name - if it doesn't exist, MongoDB will create it automatically
spring.data.mongodb.database=resumebuilder

# Auto-index creation - Spring Data will create indexes based on annotations
# This is useful for development, but in production you might want to control this manually
spring.data.mongodb.auto-index-creation=true

# ================================================================================================
# JWT (JSON WEB TOKEN) CONFIGURATION
# ================================================================================================
# Secret key used to sign and verify JWT tokens
# SECURITY WARNING:
# - Must be at least 256 bits (32 characters) long
# - Change this in production!
# - Never commit real secret to Git!
# - Use environment variables for production: ${JWT_SECRET}
# Generate a secure key using: openssl rand -base64 32
jwt.secret=your-super-secret-jwt-key-change-this-in-production-min-256-bits-required-here

# How long the access token is valid (in milliseconds)
# 86400000 ms = 24 hours
# After this time, user needs to login again
jwt.expiration=86400000

# How long the refresh token is valid (in milliseconds)
# 604800000 ms = 7 days
# Used to get a new access token without logging in again
jwt.refresh.expiration=604800000

# ================================================================================================
# EMAIL CONFIGURATION (Gmail SMTP) - Phase 8
# ================================================================================================
# IMPORTANT: YOU NEED TO CONFIGURE THIS MANUALLY!
# Follow these steps:
# 1. Go to https://myaccount.google.com/security
# 2. Enable "2-Step Verification"
# 3. Go to https://myaccount.google.com/apppasswords
# 4. Generate an App Password for "Mail"
# 5. Replace values below with your Gmail and App Password
# ================================================================================================

# Gmail SMTP server
spring.mail.host=smtp.gmail.com

# Port 587 for TLS (recommended), or 465 for SSL
spring.mail.port=587

# Your Gmail address (e.g., yourapp@gmail.com)
# REPLACE THIS with your actual Gmail address
spring.mail.username=jayamadusasindu5@gmail.com

# Gmail App Password (16 characters, format: xxxx xxxx xxxx xxxx)
# NOT your regular Gmail password!
# REPLACE THIS with your actual App Password
spring.mail.password=fmff zndt nwmf eelz

# SMTP protocol
spring.mail.protocol=smtp

# Additional SMTP properties for Gmail
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.starttls.required=true

# ================================================================================================
# FRONTEND URL CONFIGURATION
# ================================================================================================
# Base URL of your React frontend
# Used in email links (verification, password reset, etc.)
# Development: http://localhost:5174 (Current Vite port)
# Production: https://your-domain.com
app.frontend.url=http://localhost:5174
spring.mail.properties.mail.smtp.starttls.required=true

# Connection timeout (milliseconds)
spring.mail.properties.mail.smtp.connectiontimeout=5000

# Read timeout (milliseconds)
spring.mail.properties.mail.smtp.timeout=5000

# Write timeout (milliseconds)
spring.mail.properties.mail.smtp.writetimeout=5000

# ================================================================================================
# FILE UPLOAD CONFIGURATION
# ================================================================================================
# Maximum file size for a single file upload (profile images, etc.)
# 5MB limit - prevents users from uploading huge files
spring.servlet.multipart.max-file-size=5MB

# Maximum total request size (file + other form data)
spring.servlet.multipart.max-request-size=5MB

# Enable file upload support
spring.servlet.multipart.enabled=true

# ================================================================================================
# CLOUDINARY CONFIGURATION (Image Hosting)
# ================================================================================================
# Cloudinary is used to store and serve user profile images
# Sign up at: https://cloudinary.com/users/register/free

# Your Cloudinary cloud name
cloudinary.cloud.name=your-cloudinary-cloud-name

# API key from Cloudinary dashboard
cloudinary.api.key=your-cloudinary-api-key

# API secret from Cloudinary dashboard
cloudinary.api.secret=your-cloudinary-api-secret

# ================================================================================================
# APPLICATION URLs
# ================================================================================================
# Frontend application URL - used for email links, CORS, etc.
app.frontend.url=http://localhost:5173

# Backend application URL - used in email templates
app.backend.url=http://localhost:8080

# Email verification link expiration (milliseconds)
# 86400000 ms = 24 hours
app.email.verification.expiration=86400000

# ================================================================================================
# LOGGING CONFIGURATION
# ================================================================================================
# Root logging level - applies to all packages
# Levels: TRACE < DEBUG < INFO < WARN < ERROR < FATAL
# INFO is good for production, DEBUG for development
logging.level.root=INFO

# Logging level for our application packages
# Set to DEBUG to see detailed logs during development
logging.level.com.sasindu.rdsumebuilder=DEBUG

# Logging level for Spring Framework
# WARN to reduce noise from Spring's internal logs
logging.level.org.springframework=WARN

# Logging level for MongoDB driver
# Set to INFO to see database queries (useful for debugging)
logging.level.org.mongodb=INFO

# Log pattern - how log messages are formatted
# %d{yyyy-MM-dd HH:mm:ss} - timestamp
# %p - log level (INFO, DEBUG, etc.)
# %c{1} - logger name (class name)
# %m - the log message
# %n - new line
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} - %p %c{1}: %m%n

# ================================================================================================
# ACTUATOR CONFIGURATION (Monitoring & Health Checks)
# ================================================================================================
# Actuator provides endpoints to monitor application health and metrics
# Access at: http://localhost:8080/actuator

# Which endpoints to expose over HTTP
# health - application health status
# info - application information
# metrics - application metrics
management.endpoints.web.exposure.include=health,info,metrics

# Show detailed health information
# "always" - show to everyone (be careful in production!)
# "when-authorized" - show only to authenticated users
# "never" - show minimal info
management.endpoint.health.show-details=when-authorized

# ================================================================================================
# SECURITY CONFIGURATION
# ================================================================================================
# Password encoding strength (BCrypt rounds)
# Higher = more secure but slower
# 10 is a good balance (recommended: 10-12)
app.security.bcrypt.strength=10

# ================================================================================================
# VALIDATION MESSAGES
# ================================================================================================
# Custom validation messages (optional - can override in @NotBlank, etc.)
# These provide better user feedback
app.validation.email.invalid=Please provide a valid email address
app.validation.password.weak=Password must be at least 8 characters with uppercase, lowercase, and number
app.validation.name.required=Name is required

# ================================================================================================
# CORS CONFIGURATION
# ================================================================================================
# CORS (Cross-Origin Resource Sharing) allows frontend to call backend
# Allowed origins - frontend URL
app.cors.allowed-origins=http://localhost:3000,http://localhost:5173,http://localhost:5174

# Allowed methods
app.cors.allowed-methods=GET,POST,PUT,PATCH,DELETE,OPTIONS

# Allowed headers
app.cors.allowed-headers=*

# Allow credentials (cookies, authorization headers)
app.cors.allow-credentials=true

# ================================================================================================
# DEVELOPMENT vs PRODUCTION
# ================================================================================================
# Current profile - controls which additional config file is loaded
# "dev" loads application-dev.properties
# "prod" loads application-prod.properties
spring.profiles.active=dev

# ================================================================================================
# IMPORTANT NOTES FOR BEGINNERS:
# ================================================================================================
# 1. Never commit sensitive data (passwords, API keys) to version control
#    Use environment variables or separate config files
#
# 2. This file uses property-based configuration
#    Spring Boot also supports YAML format (application.yml)
#
# 3. Properties can be overridden by:
#    - Environment variables (highest priority)
#    - Command line arguments
#    - Profile-specific files (application-{profile}.properties)
#    - This file (lowest priority)
#
# 4. Use ${VARIABLE_NAME} to reference environment variables
#    Example: spring.mail.password=${GMAIL_APP_PASSWORD}
#
# 5. Spring Boot auto-configuration uses these properties
#    You don't need to manually create beans for most configurations
# ================================================================================================

