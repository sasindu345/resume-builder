spring.application.name=resume-builder
server.port=8080


# ===============================
# MongoDB Configuration
# ===============================
# Use env vars for URI and DB, fallback to local dev defaults for Docker/local
spring.data.mongodb.uri=${MONGODB_URI:mongodb://localhost:27017/resume-builder}
spring.data.mongodb.database=${MONGODB_DATABASE:resume-builder}
spring.data.mongodb.auto-index-creation=true

# ===============================
# JWT Configuration
# ===============================
# Use env var for secret, fallback to a safe dev-only value
jwt.secret=${JWT_SECRET:dev-secret-change-me}
jwt.expiration=${JWT_EXPIRATION:86400000}
jwt.refresh.expiration=${JWT_REFRESH_EXPIRATION:604800000}

# ===============================
# File Upload
# ===============================
spring.servlet.multipart.enabled=true
spring.servlet.multipart.max-file-size=5MB
spring.servlet.multipart.max-request-size=5MB

# ===============================
# Security
# ===============================
app.security.bcrypt.strength=${BCRYPT_STRENGTH:10}

# ===============================
# Email Verification
# ===============================
app.email.verification.expiration=${EMAIL_VERIFICATION_EXPIRATION:86400000}

# ===============================
# Mail Configuration
# ===============================
# Use env vars for all credentials, fallback to empty for safety
spring.mail.host=${EMAIL_HOST:smtp.gmail.com}
spring.mail.port=${EMAIL_PORT:587}
spring.mail.username=${EMAIL_USERNAME:}
spring.mail.password=${EMAIL_PASSWORD:}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.starttls.required=true

# ===============================
# CORS Configuration
# ===============================
# Allow local dev (Vite 5173/5174), and allow production via env var
# If FRONTEND_URL is missing, only localhost is allowed (safe default)
app.cors.allowed-origins=${FRONTEND_URL:http://localhost:5173,http://localhost:5174}

# ===============================
# Frontend/Backend URLs
# ===============================
# Used for email links, etc. Use env or fallback to local
app.frontend.url=${FRONTEND_URL:http://localhost:5173}
app.backend.url=${BACKEND_URL:http://localhost:8080}

# ===============================
# Logging (safe defaults)
# ===============================
logging.level.root=${LOG_LEVEL_ROOT:INFO}
logging.level.org.springframework=${LOG_LEVEL_SPRING:WARN}

# ===============================
# Actuator (safe defaults)
# ===============================
management.endpoints.web.exposure.include=health,info
management.endpoint.health.show-details=when-authorized