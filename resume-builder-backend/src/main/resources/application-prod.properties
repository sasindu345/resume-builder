# ================================================================================================
# PRODUCTION PROFILE CONFIGURATION
# ================================================================================================
# This file is loaded when spring.profiles.active=prod
# Use this for production deployment settings
# Security and performance focused
# ================================================================================================

# ================================================================================================
# DATABASE - Production Settings
# ================================================================================================
# Use environment variables for production database connection
# Never hardcode production credentials!
spring.data.mongodb.uri=${MONGODB_URI:mongodb://localhost:27017/resumebuilder}
spring.data.mongodb.database=${MONGODB_DATABASE:resumebuilder}

# ================================================================================================
# LOGGING - Minimal for Production
# ================================================================================================
# Only log warnings and errors in production
logging.level.root=WARN
logging.level.com.sasindu.rdsumebuilder=INFO

# Reduce Spring Framework logs
logging.level.org.springframework=WARN

# Log to file in production
logging.file.name=logs/application.log
logging.file.max-size=10MB
logging.file.max-history=30

# ================================================================================================
# SECURITY - Strict for Production
# ================================================================================================
# Use strong JWT secret from environment variable
jwt.secret=${JWT_SECRET}

# Use environment variables for all sensitive data
spring.mail.username=${EMAIL_USERNAME}
spring.mail.password=${EMAIL_PASSWORD}

cloudinary.cloud.name=${CLOUDINARY_CLOUD_NAME}
cloudinary.api.key=${CLOUDINARY_API_KEY}
cloudinary.api.secret=${CLOUDINARY_API_SECRET}

# ================================================================================================
# ERROR HANDLING - Hide Details
# ================================================================================================
# Never expose stack traces or error details in production
server.error.include-stacktrace=never
server.error.include-message=never
server.error.include-binding-errors=never

# ================================================================================================
# ACTUATOR - Limited Exposure
# ================================================================================================
# Only expose health endpoint in production
management.endpoints.web.exposure.include=health
management.endpoint.health.show-details=never

# ================================================================================================
# PERFORMANCE OPTIMIZATIONS
# ================================================================================================
# Connection pool settings (if using with relational DB in future)
spring.data.mongodb.connection-pool.max-size=50
spring.data.mongodb.connection-pool.min-size=10

# ================================================================================================
# CORS - Restricted Origins
# ================================================================================================
# Only allow your production frontend domain
app.cors.allowed-origins=${FRONTEND_URL:https://yourdomain.com}

# ================================================================================================
# SSL/TLS Configuration (if using HTTPS)
# ================================================================================================
# Uncomment and configure if deploying with HTTPS
# server.ssl.enabled=true
# server.ssl.key-store=classpath:keystore.p12
# server.ssl.key-store-password=${SSL_PASSWORD}
# server.ssl.key-store-type=PKCS12

# ================================================================================================
# COMPRESSION - Enable for Better Performance
# ================================================================================================
# Compress HTTP responses
server.compression.enabled=true
server.compression.mime-types=application/json,application/xml,text/html,text/xml,text/plain

# ================================================================================================
# NOTES:
# ================================================================================================
# - Use this profile: java -jar app.jar --spring.profiles.active=prod
# - Always use environment variables for secrets: export JWT_SECRET="your-secret"
# - Enable HTTPS in production
# - Use a reverse proxy (Nginx) for additional security
# - Monitor logs and health endpoints
# - Set up proper backup strategies for MongoDB
# ================================================================================================

